---
import { getCollection, render } from 'astro:content'

import Article from '../../layouts/Article.astro'

export const getStaticPaths = async () =>
  await getCollection('articles')
    .then(articles => articles.map(article => ({
      params: { slug: article.id },
      props: { article },
    })))

const { article } = Astro.props
const { Content } = await render(article)
---

<Article {...article.data}>
  <Content />
</Article>
